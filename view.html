<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æƒ…ç»ªç›’å­ - æ‰“å¼€æƒŠå–œ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* åŸºæœ¬æ ·å¼ */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif; }
        body { background: #f8f9ff; color: #333; min-height: 100vh; padding: 20px; }
        
        /* å®¹å™¨ */
        .container { max-width: 800px; margin: 0 auto; background: white; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        
        /* å¤´éƒ¨ */
        .header { text-align: center; padding: 30px; background: linear-gradient(135deg, #ff6b8b 0%, #ff8e53 100%); color: white; }
        .header h1 { font-size: 2.5rem; margin-bottom: 10px; }
        
        /* ç›’å­å±•ç¤º */
        .box-display { text-align: center; margin: 30px; padding: 30px; background: white; border-radius: 15px; }
        .box-creator { color: #666; font-style: italic; margin-top: 10px; }
        .box-preview { width: 250px; height: 250px; margin: 20px auto; border-radius: 15px; position: relative; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .box-lid { position: absolute; top: 0; width: 100%; height: 50px; border-radius: 15px 15px 0 0; }
        
        /* ä½¿ç”¨è¯´æ˜ */
        .instruction { background: #f8f9fa; padding: 25px; border-radius: 15px; margin: 30px; }
        
        /* ç»Ÿè®¡ä¿¡æ¯ */
        .stats-bar { display: flex; justify-content: space-around; background: #f8f9fa; padding: 20px; border-radius: 15px; margin: 30px; }
        .stat-item { text-align: center; }
        .stat-number { font-size: 2rem; font-weight: bold; color: #ff6b8b; display: block; }
        
        /* æƒ…ç»ªä¿¡å° */
        .emotions-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 20px; margin: 40px; }
        .emotion-envelope { background: white; border-radius: 12px; padding: 25px 15px; text-align: center; cursor: pointer; transition: all 0.3s; border: 2px solid #e0e0e0; }
        .emotion-envelope:hover { transform: translateY(-10px); box-shadow: 0 15px 30px rgba(0,0,0,0.15); border-color: #ff6b8b; }
        .emotion-envelope.disabled { opacity: 0.5; cursor: not-allowed; transform: none !important; }
        .envelope-emoji { font-size: 3rem; margin-bottom: 15px; display: block; }
        .envelope-name { font-weight: bold; color: #333; font-size: 1.1rem; margin-bottom: 8px; }
        .envelope-count { color: #666; font-size: 0.9rem; }
        
        /* æŠ½å–ç»“æœæ˜¾ç¤º */
        .message-display { background: white; border-radius: 15px; padding: 40px 30px; margin: 40px; text-align: center; box-shadow: 0 15px 35px rgba(0,0,0,0.1); border-top: 5px solid #ff6b8b; min-height: 300px; display: flex; flex-direction: column; justify-content: center; align-items: center; }
        .drawn-emoji { font-size: 4rem; margin-bottom: 20px; animation: bounce 1s ease infinite alternate; }
        @keyframes bounce { from { transform: translateY(0); } to { transform: translateY(-10px); } }
        .drawn-text { font-size: 1.4rem; line-height: 1.6; color: #333; margin-bottom: 15px; max-width: 600px; }
        .drawn-info { color: #666; font-size: 1rem; margin-top: 20px; }
        
        /* åŠ è½½çŠ¶æ€ */
        .loading-screen { text-align: center; padding: 100px 20px; }
        .loading-spinner { border: 5px solid #f3f3f3; border-top: 5px solid #ff6b8b; border-radius: 50%; width: 60px; height: 60px; animation: spin 1s linear infinite; margin: 0 auto 30px; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        
        /* é”™è¯¯çŠ¶æ€ */
        .error-message { text-align: center; padding: 100px 20px; color: #dc3545; }
        
        /* ç©ºçŠ¶æ€ */
        .empty-state { text-align: center; color: #666; padding: 40px 20px; font-style: italic; }
        
        /* åˆ†äº«æŒ‰é’® */
        .share-btn { position: fixed; bottom: 30px; right: 30px; background: linear-gradient(135deg, #36d1dc 0%, #5b86e5 100%); color: white; border: none; border-radius: 50px; padding: 15px 25px; font-size: 1rem; cursor: pointer; box-shadow: 0 5px 20px rgba(54,209,220,0.3); z-index: 1000; display: flex; align-items: center; gap: 8px; transition: all 0.3s; }
        .share-btn:hover { transform: translateY(-3px); box-shadow: 0 8px 25px rgba(54,209,220,0.4); }
        
        /* æŒ‰é’® */
        .btn { padding: 15px 30px; border-radius: 10px; font-size: 1.1rem; font-weight: bold; cursor: pointer; border: none; display: inline-flex; align-items: center; gap: 10px; margin: 10px 5px; }
        .btn-primary { background: linear-gradient(135deg, #ff6b8b 0%, #ff8e53 100%); color: white; }
        
        /* é¡µè„š */
        .footer { text-align: center; padding: 20px; background: #f8f9fa; color: #666; border-top: 1px solid #eee; }
        
        /* å“åº”å¼ */
        @media (max-width: 768px) {
            .container { border-radius: 10px; }
            .header h1 { font-size: 1.8rem; }
            .emotions-grid { grid-template-columns: repeat(3, 1fr); gap: 15px; margin: 20px; }
            .box-preview, .message-display { width: 90%; margin: 20px auto; }
            .share-btn { bottom: 20px; right: 20px; padding: 12px 20px; font-size: 0.9rem; }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- åŠ è½½çŠ¶æ€ -->
        <div id="loadingScreen" class="loading-screen">
            <div class="loading-spinner"></div>
            <h2>æ­£åœ¨æ‰“å¼€æƒ…ç»ªç›’å­...</h2>
            <p>è¯·ç¨å€™ï¼ŒæƒŠå–œé©¬ä¸Šæ­æ™“</p>
        </div>

        <!-- é”™è¯¯çŠ¶æ€ -->
        <div id="errorScreen" class="error-message" style="display: none;">
            <i class="fas fa-exclamation-triangle" style="font-size: 4rem; margin-bottom: 20px;"></i>
            <h2>ç›’å­æ‰“å¼€å¤±è´¥</h2>
            <p id="errorMessage">é“¾æ¥å¯èƒ½å·²è¿‡æœŸæˆ–ä¸å­˜åœ¨</p>
            <button onclick="window.location.href='index.html'" class="btn btn-primary">
                <i class="fas fa-home"></i> è¿”å›é¦–é¡µåˆ¶ä½œæ–°ç›’å­
            </button>
        </div>

        <!-- ä¸»å†…å®¹åŒº -->
        <div id="mainContent" style="display: none;">
            <!-- ç›’å­å±•ç¤º -->
            <div class="box-display" id="boxDisplay">
                <h1 id="boxTitle">æƒ…ç»ªç›’å­</h1>
                <p class="box-creator" id="boxCreator"></p>
                <div class="box-preview" id="boxPreview">
                    <div class="box-lid"></div>
                    <div style="font-size: 4rem;">ğŸ</div>
                </div>
            </div>

            <!-- ä½¿ç”¨è¯´æ˜ -->
            <div class="instruction">
                <h3><i class="fas fa-info-circle"></i> ä½¿ç”¨è¯´æ˜</h3>
                <p>é€‰æ‹©ä¸€ä¸ªæœ€åˆé€‚è‡ªå·±å½“ä¸‹å¿ƒæƒ…çš„å°ä¿¡å°æ‹†å¼€çœ‹å§ï¼</p>
                <p>æ¯ç§æƒ…ç»ªéƒ½å‡†å¤‡äº†å¤šå¼ çº¸æ¡ï¼Œæ¯æ¬¡éšæœºæŠ½å–ä¸€å¼ ï¼ŒæŠ½è¿‡çš„çº¸æ¡ä¸ä¼šé‡å¤å‡ºç°ã€‚</p>
            </div>

            <!-- ç»Ÿè®¡ä¿¡æ¯ -->
            <div class="stats-bar">
                <div class="stat-item">
                    <span class="stat-number" id="totalMessages">0</span>
                    <span>æ€»çº¸æ¡æ•°</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="remainingMessages">0</span>
                    <span>å‰©ä½™çº¸æ¡</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="drawnMessages">0</span>
                    <span>å·²æŠ½å–</span>
                </div>
            </div>

            <!-- æƒ…ç»ªä¿¡å° -->
            <div class="emotions-grid" id="emotionsGrid">
                <!-- åŠ¨æ€ç”Ÿæˆ -->
            </div>

            <!-- æŠ½å–ç»“æœæ˜¾ç¤º -->
            <div class="message-display" id="messageDisplay">
                <div class="empty-state">
                    <i class="fas fa-envelope-open-text" style="font-size: 4rem; color: #ccc; margin-bottom: 20px;"></i>
                    <h3>é€‰æ‹©ä¸€ä¸ªæƒ…ç»ªä¿¡å°</h3>
                    <p>ç‚¹å‡»ä¸Šæ–¹çš„æƒ…ç»ªä¿¡å°ï¼ŒéšæœºæŠ½å–ä¸€å¼ çº¸æ¡</p>
                </div>
            </div>
            
            <!-- é¡µè„š -->
            <div class="footer">
                <p>æƒ…ç»ªç›’å­ Â· ç”¨æ•°å­—çè—æƒ…æ„Ÿç¬é—´ | æ‰“å¼€å³ç”¨ï¼Œæ— éœ€æ³¨å†Œ</p>
            </div>
        </div>
    </div>

    <!-- åˆ†äº«æŒ‰é’® -->
    <button class="share-btn" id="shareBtn">
        <i class="fas fa-share-alt"></i> åˆ†äº«ç›’å­
    </button>

    <!-- JavaScriptæ–‡ä»¶ -->
    <script src="view.js"></script>
    <script src="share.js"></script>
</body>
</html>